<% include partials/header %>

<div class="container">

        <% if (paymentDetails.errors) { %>
            <form action="/" method="GET">
                <div class ="container-header">
                    <h3 class="text-center"> Payment Error! </h3>
                </div>

                <div class="text-info">
                    <label class="form-control-static text-info"> Error Message: </label>
                <div>

                <div class="text-info">
                    <label class="form-control-static text-info"><%= paymentDetails.errors[0].message %></label>
                </div>

                <div class="text-info">
                    <label class="form-control-static text-info"> Error Status: </label>
                </div>

                <div class="text-info">
                    <label class="form-control-static text-info"><%=paymentDetails.errors[0].httpStatusCode%><label>
                </div>
                
                <div>
                    <button class="btn btn--right"> Return </button>
                </div>
            </form>

        <% } else if (paymentDetails.payment) { %>
            <form action="/payments/approve" method="POST">
                <div class="container-header">
                    <h3 class="text-center">Payment Details</h3>
                </div>

                <div class="text-info">
                    <label class="form-control-static text-info">Payment ID:</label>
                </div>

                <div class="text-info">
                    <label class="form-control-static small" id="paymentID"><%= paymentDetails.payment.id %></label>
                </div>

                <div class="text-info">
                    <label class="form-control-static text-info">Payment Status:</label>
                </div>
                <div class="text-info">
                    <label class="form-control-static small" id="paymentStatus"><%= paymentDetails.payment.status %></label>
                </div>

                <div class="text-info">
                    <label class="form-control-static text-info">Merchant Status:</label>
                </div>
                <div class="text-info">
                    <label class="form-control-static small" id="paymentStatus"><%= paymentDetails.payment.statusOutput.statusCategory %></label>
                </div>

                <input type="text" name="paymentId" placeholder"Payment ID" class="form-control" require>

                <div>
                    <button class="btn btn--right"> Approve Payment </button>
                </div>
            </form>
            <form action="/" method="GET">
                <div>
                    <button class="btn btn--right"> Return </button>
                </div>
            </form>
        <% } else if (paymentDetails.token) { %>
            <form action="/" method="GET">
                <div class ="container-header">
                    <h3 class="text-center"> Payment Tokenized! </h3>
                </div>

                <div class="text-info">
                    <label class="form-control-static text-info"> Response Message isNewToken: </label>
                <div>

                <div class="text-info">
                    <label class="form-control-static text-info"><%= paymentDetails.isNewToken %></label>
                </div>

                <div class="text-info">
                    <label class="form-control-static text-info"> Token ID: </label>
                </div>

                <div class="text-info">
                    <label class="form-control-static text-info"><%=paymentDetails.token%><label>
                </div>
                
                <div>
                    <button class="btn btn--right"> Return </button>
                </div>
            </form>
        <% } %>

<% include partials/footer %>